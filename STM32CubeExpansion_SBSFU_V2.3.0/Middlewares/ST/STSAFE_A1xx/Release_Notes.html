<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Release Notes for STSAFE-A1xx Middleware Component</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="_htmresc/mini-st.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="row">
<div class="col-sm-12 col-lg-4">
<div class="card fluid">
<div class="sectione dark">
<center>
<h1 id="release-notes-for-stsafe-a1xx-middleware"><small>Release Notes for</small> <strong>STSAFE-A1xx Middleware</strong></h1>
<p>Copyright © 2016 STMicroelectronics<br />
</p>
<a href="https://www.st.com" class="logo"><img src="_htmresc/st_logo.png" alt="ST logo" /></a>
</center>
</div>
</div>
<h1 id="license">License</h1>
<p>This software component is licensed by ST under STSAFE DRIVER SOFTWARE LICENSE AGREEMENT (SLA0088), the “License”; You may not use this component except in compliance with the License. You may obtain a copy of the License at:</p>
<p>[<a href="https://www.st.com/content/st_com/en/products/embedded-software/secure-mcu-software/stsw-stsa100.html#resource">SLA0088 License @ www.st.com</a>]</p>
<h1 id="purpose">Purpose</h1>
<p>The STSAFE-A1xx Middleware is a software component providing a complete set of APIs to access all the STSAFE-A100 device features from a Host Microcontroller.</p>
<p><img src="_htmresc/architecture_2.PNG" /></p>
<p>The STSAFE-aA100 is a highly secure solution that acts as a secure element providing authentication and data management services to a local or remote host. It consists of a full turnkey solution with a secure operating system running on the latest generation of secure microcontrollers. The STSAFE-A100 can be integrated in IoT (Internet of things) devices, smart-home, smart-city and industrial applications, consumer electronics devices, consumables and accessories.</p>
<p><strong>STSAFE-A100 Key Features</strong>:</p>
<ul>
<li><p>Authentication (of peripherals, IoT and USB Type-C devices)</p></li>
<li><p>Secure channel establishment with remote host including transport layer security (TLS) handshake</p></li>
<li><p>Signature verification service (secure boot and firmware upgrade)</p></li>
<li><p>Usage monitoring with secure counters</p></li>
<li><p>Pairing and secure channel with host application processor</p></li>
<li><p>Wrapping and unwrapping of local or remote host envelopes</p></li>
<li><p>On-chip key pair generation</p></li>
</ul>
<p>Here is the list of references to user documents:</p>
<ul>
<li><a href="https://www.st.com/resource/en/datasheet/stsafe-a100.pdf">[DS12911]</a> : [STSAFE-A100 Datasheet: Authentication state-of-the-art security for peripherals and IoT devices]</li>
<li><a href="https://www.st.com/resource/en/data_brief/stsafe-a100.pdf">[DB2827]</a> : [STSAFE-A100 Data brief: Authentication state-of-the-art security for peripherals and IoT devices]</li>
</ul>
</div>
<div class="col-sm-12 col-lg-8">
<h1 id="update-history">Update History</h1>
<div class="collapse">
<input type="checkbox" id="collapse-section14" checked aria-hidden="true"> <label for="collapse-section14" aria-hidden="true"><strong>V3.0.0 / 13-July-2019</strong></label>
<div>
<h2 id="main-changes">Main Changes</h2>
<h3 id="maintenance-release">Maintenance release</h3>
<p>This is a major release implementing a completely new Middleware architecture that has been re-designed in order to:</p>
<ul>
<li><p>Improve Robustness and Security</p></li>
<li><p>Improve Maintainability, Reliability, Scalability</p></li>
</ul>
<p>Therefore there is no backward compatibility with previous releases.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">New CORE module to simplify integration in customer applications</td>
</tr>
<tr class="even">
<td style="text-align: left;">New CRYPTO module to isolate the secure/trusted area in flash(eg. behind Firewall / TrustZone) increasing the security level and reducing the attack surface</td>
</tr>
<tr class="odd">
<td style="text-align: left;">New SERVICE module to allow hardware abstraction and platform independence</td>
</tr>
<tr class="even">
<td style="text-align: left;">MISRA-C 2012 compliance</td>
</tr>
</tbody>
</table>
<h2 id="known-limitations">Known Limitations</h2>
<table>
<caption>Outstanding bugs list</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Ticket</th>
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ID:573583</td>
<td style="text-align: left;">WrapLocalEnvelope failure when IAR Compiler High Optimization option is set.</td>
</tr>
</tbody>
</table>
<p><br />
</p>
<h2 id="development-toolchains-and-compilers">Development Toolchains and Compilers</h2>
<p>The STSAFE-A1xx Middleware is easily portable on different toolchains. It has been tested in applications developed using the following toolchains and compilers:</p>
<ul>
<li><p>IAR EWARM v8.32</p></li>
<li><p>MDK-ARM v5.27</p></li>
<li><p>SW4STM32 v2.9</p></li>
</ul>
<h2 id="supported-devices-and-boards">Supported Devices and Boards</h2>
<p>The STSAFE-A1xx Middleware is easily portable on different STM32 microcontrollers. It has has been tested in applications developed for the following devices and boards:</p>
<ul>
<li><p>NUCLEO-L476RG STM32L476</p></li>
<li><p>B-L475E-IOT01A STM32L475</p></li>
</ul>
<h2 id="backward-compatibility">Backward Compatibility</h2>
<p>There is no backward compatibility with previous versions</p>
<h2 id="dependencies">Dependencies</h2>
<p>This software release is compatible with:</p>
<ul>
<li><p>mbed TLS V2.14.0</p></li>
<li><p>STM32 Crypto Library V3.0.0</p></li>
<li><p>STM32L4xx HAL drivers V1.9.0</p></li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section13" aria-hidden="true"> <label for="collapse-section13" aria-hidden="true"><strong>V2.3.4 / 11-December-2018</strong></label>
<div>
<h2 id="main-changes-1">Main Changes</h2>
<h3 id="maintenance-release-1">Maintenance release</h3>
<p>Update wrapper version to 2.3.4.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Hotfix for StSafeA_VerifyEntitySignature &amp; StSafeA_PublicKeySlotQuery</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fix usage of STM32 HW byte swap</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Optimize StSafeA_Update</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section12" aria-hidden="true"> <label for="collapse-section12" aria-hidden="true"><strong>V2.3.3 / 20-July-2018</strong></label>
<div>
<h2 id="main-changes-2">Main Changes</h2>
<h3 id="maintenance-release-2">Maintenance release</h3>
<p>Update wrapper version to 2.3.3.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Update “StSafeA_GenerateRandom” to solve issue with ephemeral random</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section11" aria-hidden="true"> <label for="collapse-section11" aria-hidden="true"><strong>V2.3.1 / 04-July-2018</strong></label>
<div>
<h2 id="main-changes-3">Main Changes</h2>
<h3 id="maintenance-release-3">Maintenance release</h3>
<p>Update wrapper version to 2.3.1.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Adjust buffer size</td>
</tr>
<tr class="even">
<td style="text-align: left;">Add optimized bytes swap using ARM Instructions</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Minor “StSafeA_GenerateRandom” update</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section10" aria-hidden="true"> <label for="collapse-section10" aria-hidden="true"><strong>V2.3.0 / 25-June-2018</strong></label>
<div>
<h2 id="main-changes-4">Main Changes</h2>
<h3 id="maintenance-release-4">Maintenance release</h3>
<p>Update wrapper version to 2.3.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Signature session functionality becomes optional (use STSAFE_A_SIGN_SESSION preprocessing flag to activate it)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update “StSafeA_WrapLocalEnvelope”, “StSafeA_UnwrapLocalEnvelope”, “StSafeA_GenerateSignature” and “StSafeA_EstablishKey” to manage Host Encryption (Available from STSAFE-A110)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Update “StSafeA_RawCommand” to manage Host MAC</td>
</tr>
<tr class="even">
<td style="text-align: left;">Add “StSafeA_CommandAuthorizationConfigurationQuery”</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CRC computation optimization</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section9" aria-hidden="true"> <label for="collapse-section9" aria-hidden="true"><strong>V2.2.0 / 19-March-2018</strong></label>
<div>
<h2 id="main-changes-5">Main Changes</h2>
<h3 id="maintenance-release-5">Maintenance release</h3>
<p>Update wrapper version to 2.2.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">“StSafeA_PutPublicKeySlot” function added</td>
</tr>
<tr class="even">
<td style="text-align: left;">Move weak function preprocessing definition to “stsafe_a_types.h”</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add STSAFE_A_INVALID_PARAMETER to “StSafeA_ResponseCode” enumeration</td>
</tr>
<tr class="even">
<td style="text-align: left;">Remove 1 byte memory alignment for “stsafe_a” type</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Correct “StSafeA_Hibernate” issue</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section8" aria-hidden="true"> <label for="collapse-section8" aria-hidden="true"><strong>V2.1.0 / 04-December-2017</strong></label>
<div>
<h2 id="main-changes-6">Main Changes</h2>
<h3 id="maintenance-release-6">Maintenance release</h3>
<p>Update wrapper version to 2.1.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section7" aria-hidden="true"> <label for="collapse-section7" aria-hidden="true"><strong>V2.0.0 / 21-November-2017</strong></label>
<div>
<h2 id="main-changes-7">Main Changes</h2>
<h3 id="maintenance-release-7">Maintenance release</h3>
<p>Update wrapper version to 2.0.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Update wrapper source code to add STSAFE-A110 device support</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section6" aria-hidden="true"> <label for="collapse-section6" aria-hidden="true"><strong>V1.5.0 / 30-August-2017</strong></label>
<div>
<h2 id="main-changes-8">Main Changes</h2>
<h3 id="maintenance-release-8">Maintenance release</h3>
<p>Update wrapper version to 1.5.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Correct typo issues</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update StSafeA_GetHostCMacSequenceCounter return to void type</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Update StSafeA_ComputeCMAC &amp; StSafeA_ComputeRMAC to Remove dynamic allocation and Solve issue on RMAC computation with STM32 crypto library</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section5" aria-hidden="true"> <label for="collapse-section5" aria-hidden="true"><strong>V1.4.0 / 30-June-2017</strong></label>
<div>
<h2 id="main-changes-9">Main Changes</h2>
<h3 id="maintenance-release-9">Maintenance release</h3>
<p>Update wrapper version to 1.4.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Change <strong>AUTHENTICATION</strong> compilation flag to <strong>NO_HMAC</strong>; this allows STSAFE-A wrapper usage without C/R MAC support</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section4" aria-hidden="true"> <label for="collapse-section4" aria-hidden="true"><strong>V1.3.0 / 28-March-2017</strong></label>
<div>
<h2 id="main-changes-10">Main Changes</h2>
<h3 id="maintenance-release-10">Maintenance release</h3>
<p>Update wrapper version to 1.3.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Bug fix in CMAC computation (memory corruption) : stsafe_a_tools.c</td>
</tr>
<tr class="even">
<td style="text-align: left;">Modify buffer allocation: no more query with dynamic allocation, use static size instead : stsafe_a_configuration.c</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add preprocing flag commutation for AES table used for CRC computation: Static (flash) or dynamic (RAM) : stsafe_a_crc.c</td>
</tr>
<tr class="even">
<td style="text-align: left;">Modify template for I2C communication : stsafe_a_bus_conf_template.c</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section3" aria-hidden="true"> <label for="collapse-section3" aria-hidden="true"><strong>V1.2.0 / 25-January-2017</strong></label>
<div>
<h2 id="main-changes-11">Main Changes</h2>
<h3 id="maintenance-release-11">Maintenance release</h3>
<p>Update wrapper version to 1.2.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Update format of Tag, Length, Value structures (new name is TLVBuffer)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Update all wrapper sources file to be compliant with new TLVBuffer structure</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section2" aria-hidden="true"> <label for="collapse-section2" aria-hidden="true"><strong>V1.1.0 / 14-December-2016</strong></label>
<div>
<h2 id="main-changes-12">Main Changes</h2>
<h3 id="maintenance-release-12">Maintenance release</h3>
<p>Update wrapper version to 1.1.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Rename stsafe_a_i2c_conf_template source (.c) &amp; header (.h) files to stsafe_a_bus_conf_template source (.c) &amp; header (.h) files into "Middlewares_A2C"</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rename stsafe_a_i2c_conf source (.c) &amp; header (.h) files to stsafe_a_bus_conf source (.c) &amp; header (.h) files from all projects into “Projects”</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Update stsafe_a_configuration.c source file</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section1" aria-hidden="true"> <label for="collapse-section1" aria-hidden="true"><strong>V1.0.0 / 06-October-2016</strong></label>
<div>
<h2 id="main-changes-13">Main Changes</h2>
<h3 id="first-release">First release</h3>
<p>Update wrapper version to 1.0.0.</p>
<table>
<caption>Additional features</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Headline</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">First official version for STSAFE-A100 devices</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
</div>
</div>
<footer class="sticky">
<p>For complete documentation on <strong>STSAFE-A100</strong> , visit: [<a href="https://www.st.com/en/secure-mcus/stsafe-a100.html">STSAFE-A100 @ www.st.com</a>]</p>
This release note uses up to date web standards and, for this reason, should not be opened with Internet Explorer but preferably with popular browsers such as Google Chrome, Mozilla Firefox, Opera or Microsoft Edge.
</footer>
</body>
</html>
